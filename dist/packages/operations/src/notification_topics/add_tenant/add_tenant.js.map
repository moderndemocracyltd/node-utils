{"version":3,"sources":["../../../../../../packages/operations/src/notification_topics/add_tenant/add_tenant.js"],"names":["ELECTIONS_UPLOAD_BUCKET","s3Client","addTenant","tenant","console","log","JSON","readFile","notificationTopicsContent","parse","stringify"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AAEA,IAAMA,0EAAN;AACA,IAAMC,WAAW,wBAAiBD,uBAAjB,CAAjB;;AAEA,IAAME;AAAA,wFAAY,iBAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEdC,gCAAQC,GAAR,CAAY,WAAZ,EAAyBL,uBAAzB;AAFc,sCAGoBM,IAHpB;AAAA;AAAA,+BAGqCL,SAASM,QAAT,CAAkB,yBAAlB,CAHrC;;AAAA;AAAA;AAGRC,iDAHQ,eAGyBC,KAHzB;;AAIdL,gCAAQC,GAAR,CAAY,8BAAZ,EAA4CC,KAAKI,SAAL,CAAeF,yBAAf,EAA0C,IAA1C,EAAgD,CAAhD,CAA5C;;AAEA,4BAAIL,UAAUK,yBAAd,EAAyC;AACrCJ,oCAAQC,GAAR,aAAsBF,MAAtB;AACH,yBAFD,MAGK;AACDC,oCAAQC,GAAR,aAAsBF,MAAtB;AACAK,sDAA0BL,MAA1B,IAAoC,EAApC;AACH;;AAZa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAZ;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAeeD,S;;;AAEfA,UAAU,GAAV","file":"add_tenant.js","sourcesContent":["import {S3Filesystem} from '../../services/s3/index';\r\n\r\nconst ELECTIONS_UPLOAD_BUCKET = `notifications-topics-subscribers-dev-eu-west-1`;\r\nconst s3Client = new S3Filesystem(ELECTIONS_UPLOAD_BUCKET);\r\n\r\nconst addTenant = async (tenant) => {\r\n\r\n    console.log(\"bucket = \", ELECTIONS_UPLOAD_BUCKET);\r\n    const notificationTopicsContent = JSON.parse(await s3Client.readFile('notificationTopics.json'));\r\n    console.log(\"notificationTopicsContent = \", JSON.stringify(notificationTopicsContent, null, 4));\r\n\r\n    if (tenant in notificationTopicsContent) {\r\n        console.log(`Tenant ${tenant} already exists`);\r\n    }\r\n    else {\r\n        console.log(`tenant ${tenant} not found, setting up tenant`);\r\n        notificationTopicsContent[tenant] = ''\r\n    }\r\n};\r\n\r\nexport default addTenant;\r\n\r\naddTenant(\"2\");"]}