"use strict";var asyncToGenerator=function(n){return function(){var t=n.apply(this,arguments);return new Promise(function(n,r){function e(o,u){try{var a=t[o](u),c=a.value}catch(n){return void r(n)}if(!a.done)return Promise.resolve(c).then(function(n){e("next",n)},function(n){e("throw",n)});n(c)}return e("next")})}};const datasource=n=>(t,r,e)=>{const o=e.value;e.value=asyncToGenerator(function*(){let t=void 0;try{t=yield n.buildConnection();const r=Array.from(arguments);return r.push(t),o.apply(this,r)}finally{t&&t.end()}});return e};module.exports={datasource:datasource};
