"use strict";const lambda=e=>(t,r,u)=>{const a=u.value;u.value=function(){const t=e.transform(arguments);return a.apply(this,t)};return u};class DefaultRequestMapper{transform(e){const t={request:{},security:{},metadata:{}};return t.request=JSON.parse(e[0].body),t.security.scopes=e[0].requestContext.authorizer.scope||"",t.security.apiKey=e[0].requestContext.identity.apiKey||"",t.security.principalId=e[0].requestContext.authorizer.principalId||"",t.metadata.requestId=e[0].requestContext.requestId||"",t.metadata.sourceIp=e[0].requestContext.identity.sourceIp||"",e[0]=t,e}}module.exports={lambda:lambda,DefaultRequestMapper:DefaultRequestMapper};
